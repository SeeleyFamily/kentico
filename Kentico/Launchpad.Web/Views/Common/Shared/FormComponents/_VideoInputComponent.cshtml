@*
    Built with Common Launchpad 2.0.2
*@

@using Kentico.Forms.Web.Mvc
@using Launchpad.Web.Models.Common.FormComponents

@model VideoInputComponent

@{
    IDictionary<string, object> htmlAttributes = ViewData.GetEditorHtmlAttributes();
}
@{
    @* Specifies additional HTML attributes for the input fields *@
    if (htmlAttributes.ContainsKey("class"))
    {
        htmlAttributes["class"] += " video-input";
    }
    else
    {
        htmlAttributes["class"] = "video-input";
    }
    string id = Html.GenerateUniqueId("videoComponent-");
    htmlAttributes["id"] = id;

}
@* Sets the partial color inputs to read-only, ensuring users can only specify the color intensities via the color selector *@
@Html.TextBoxFor(m => m.Value, htmlAttributes)
<div class="video-preview">

</div>
<script type="text/javascript">
    if (document.readyState === "loading") {
        // Calls the function during the 'DOMContentLoaded' event, after the HTML document has been completely loaded
        // See https://stackoverflow.com/questions/8835413/difference-between-load-vs-domcontentloaded
        window.addEventListener("load", function () {
            FormTools.videoField("#@id");
        });
    } else {
        // Calls the function directly in cases where the widget is rendered dynamically after 'DOMContentLoaded' has occurred
        FormTools.videoField("#@id");
    }
</script>